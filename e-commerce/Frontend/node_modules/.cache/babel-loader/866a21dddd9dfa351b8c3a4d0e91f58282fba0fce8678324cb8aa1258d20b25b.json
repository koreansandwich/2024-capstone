{"ast":null,"code":"var _jsxFileName = \"C:\\\\koreansandwich\\\\2024-capstone\\\\e-commerce\\\\Frontend\\\\src\\\\components\\\\EditAccountInfo.js\";\nimport React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport './EditAccountInfo.css';\n\n// 유효성 검사 스키마\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditAccountInfoSchema = Yup.object().shape({\n  name: Yup.string().required('이름을 입력하세요'),\n  birthDate: Yup.date().required('생년월일을 입력하세요').max(new Date(), '유효한 생년월일을 입력하세요'),\n  gender: Yup.string().required('성별을 선택하세요')\n});\nconst EditAccountInfo = () => {\n  const handleSubmit = (values, {\n    setSubmitting\n  }) => {\n    const token = localStorage.getItem('token'); // JWT 토큰 가져오기\n    axios.put(`http://localhost:8080/api/settings/account/${userId}`, {\n      name: newName,\n      birthDate: newBirthDate,\n      gender: newGender\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(() => {\n      alert('계정 정보가 성공적으로 업데이트되었습니다.');\n      setSubmitting(false);\n    }).catch(error => {\n      console.error('계정 정보 업데이트 오류:', error);\n      alert('계정 정보 업데이트에 실패했습니다.');\n      setSubmitting(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-account-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Account Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        name: '',\n        birthDate: '',\n        gender: ''\n      },\n      validationSchema: EditAccountInfoSchema,\n      onSubmit: handleSubmit,\n      children: ({\n        isSubmitting,\n        setFieldValue,\n        values\n      }) => /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"\\uC774\\uB984\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"name\",\n            component: \"div\",\n            className: \"error-message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            type: \"date\",\n            name: \"birthDate\",\n            placeholder: \"\\uC0DD\\uB144\\uC6D4\\uC77C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"birthDate\",\n            component: \"div\",\n            className: \"error-message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-field gender-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: `gender-button ${values.gender === '남성' ? 'selected' : ''}`,\n            onClick: () => setFieldValue('gender', '남성'),\n            children: \"\\uB0A8\\uC131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: `gender-button ${values.gender === '여성' ? 'selected' : ''}`,\n            onClick: () => setFieldValue('gender', '여성'),\n            children: \"\\uC5EC\\uC131\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            name: \"gender\",\n            component: \"div\",\n            className: \"error-message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isSubmitting,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_c = EditAccountInfo;\nexport default EditAccountInfo;\nvar _c;\n$RefreshReg$(_c, \"EditAccountInfo\");","map":{"version":3,"names":["React","Formik","Form","Field","ErrorMessage","Yup","axios","jsxDEV","_jsxDEV","EditAccountInfoSchema","object","shape","name","string","required","birthDate","date","max","Date","gender","EditAccountInfo","handleSubmit","values","setSubmitting","token","localStorage","getItem","put","userId","newName","newBirthDate","newGender","headers","Authorization","then","alert","catch","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","initialValues","validationSchema","onSubmit","isSubmitting","setFieldValue","type","placeholder","component","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/koreansandwich/2024-capstone/e-commerce/Frontend/src/components/EditAccountInfo.js"],"sourcesContent":["import React from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport axios from 'axios';\r\nimport './EditAccountInfo.css';\r\n\r\n// 유효성 검사 스키마\r\nconst EditAccountInfoSchema = Yup.object().shape({\r\n    name: Yup.string().required('이름을 입력하세요'),\r\n    birthDate: Yup.date()\r\n        .required('생년월일을 입력하세요')\r\n        .max(new Date(), '유효한 생년월일을 입력하세요'),\r\n    gender: Yup.string().required('성별을 선택하세요'),\r\n});\r\n\r\nconst EditAccountInfo = () => {\r\n    const handleSubmit = (values, { setSubmitting }) => {\r\n        const token = localStorage.getItem('token'); // JWT 토큰 가져오기\r\n        axios\r\n            .put(`http://localhost:8080/api/settings/account/${userId}`,\r\n            { name: newName, birthDate: newBirthDate, gender: newGender },\r\n            { headers: { Authorization: `Bearer ${token}` } }\r\n            )\r\n            .then(() => {\r\n                alert('계정 정보가 성공적으로 업데이트되었습니다.');\r\n                setSubmitting(false);\r\n            })\r\n            .catch((error) => {\r\n                console.error('계정 정보 업데이트 오류:', error);\r\n                alert('계정 정보 업데이트에 실패했습니다.');\r\n                setSubmitting(false);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"edit-account-container\">\r\n            <h2>Edit Account Info</h2>\r\n            <Formik\r\n                initialValues={{ name: '', birthDate: '', gender: '' }}\r\n                validationSchema={EditAccountInfoSchema}\r\n                onSubmit={handleSubmit}\r\n            >\r\n                {({ isSubmitting, setFieldValue, values }) => (\r\n                    <Form>\r\n                        <div className=\"form-field\">\r\n                            <Field type=\"text\" name=\"name\" placeholder=\"이름\" />\r\n                            <ErrorMessage name=\"name\" component=\"div\" className=\"error-message\" />\r\n                        </div>\r\n                        <div className=\"form-field\">\r\n                            <Field type=\"date\" name=\"birthDate\" placeholder=\"생년월일\" />\r\n                            <ErrorMessage name=\"birthDate\" component=\"div\" className=\"error-message\" />\r\n                        </div>\r\n                        <div className=\"form-field gender-select\">\r\n                            <label\r\n                                className={`gender-button ${values.gender === '남성' ? 'selected' : ''}`}\r\n                                onClick={() => setFieldValue('gender', '남성')}\r\n                            >\r\n                                남성\r\n                            </label>\r\n                            <label\r\n                                className={`gender-button ${values.gender === '여성' ? 'selected' : ''}`}\r\n                                onClick={() => setFieldValue('gender', '여성')}\r\n                            >\r\n                                여성\r\n                            </label>\r\n                            <ErrorMessage name=\"gender\" component=\"div\" className=\"error-message\" />\r\n                        </div>\r\n                        <button type=\"submit\" disabled={isSubmitting}>Save Changes</button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditAccountInfo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}