{"ast":null,"code":"var _jsxFileName = \"C:\\\\koreansandwich\\\\2024-capstone\\\\e-commerce\\\\Frontend\\\\src\\\\components\\\\LoginForm.js\";\nimport React from \"react\";\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport styles from './LoginForm.module.css'; // 모듈화된 CSS import\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string().email('Invalid email address').required('Email is required'),\n  password: Yup.string().min(8, 'Too Short!').required('Password is required')\n});\nconst LoginForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: styles.container,\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    className: styles.title,\n    children: \"\\uB85C\\uADF8\\uC778\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: LoginSchema,\n    onSubmit: (values, {\n      setSubmitting\n    }) => {\n      axios.post(\"http://localhost:8080/api/auth/login\", values).then(response => {\n        if (response.status === 200) {\n          // 성공적인 로그인 응답 처리\n          const token = response.data;\n          localStorage.setItem(\"token\", token);\n          console.log(\"Login successful, token stored:\", token);\n          window.location.href = \"/mainboard\"; // 대시보드로 이동\n        }\n      }).catch(error => {\n        if (error.response && error.response.status === 401) {\n          alert(\"로그인 실패: 이메일 또는 비밀번호가 잘못되었습니다.\");\n        } else {\n          alert(\"로그인 실패: 이메일 또는 비밀번호가 잘못되었습니다.\");\n        }\n        console.error(\"Login failed:\", error);\n      }).finally(() => {\n        setSubmitting(false); // 로딩 상태 해제\n      });\n    },\n    children: ({\n      isSubmitting\n    }) => /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.field,\n        children: /*#__PURE__*/_jsxDEV(Field, {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"\\uC774\\uBA54\\uC77C\",\n          className: styles.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.field,\n        children: /*#__PURE__*/_jsxDEV(Field, {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n          className: styles.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: styles.button,\n        disabled: isSubmitting,\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.footer,\n    children: /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/register\",\n      className: styles.link,\n      children: \"\\uD68C\\uC6D0\\uAC00\\uC785 \\uD558\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 5\n}, this);\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","Formik","Form","Field","Yup","axios","styles","jsxDEV","_jsxDEV","LoginSchema","object","shape","email","string","required","password","min","LoginForm","className","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","initialValues","validationSchema","onSubmit","values","setSubmitting","post","then","response","status","token","data","localStorage","setItem","console","log","window","location","href","catch","error","alert","finally","isSubmitting","field","type","name","placeholder","input","button","disabled","footer","link","_c","$RefreshReg$"],"sources":["C:/koreansandwich/2024-capstone/e-commerce/Frontend/src/components/LoginForm.js"],"sourcesContent":["import React from \"react\";\r\nimport { Formik, Form, Field } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport axios from 'axios';\r\nimport styles from './LoginForm.module.css'; // 모듈화된 CSS import\r\n\r\nconst LoginSchema = Yup.object().shape({\r\n    email: Yup.string().email('Invalid email address').required('Email is required'),\r\n    password: Yup.string().min(8, 'Too Short!').required('Password is required'),\r\n});\r\n\r\nconst LoginForm = () => (\r\n    <div className={styles.container}>\r\n        <h1 className={styles.title}>로그인</h1>\r\n        <Formik\r\n            initialValues={{ email: '', password: '' }}\r\n            validationSchema={LoginSchema}\r\n            onSubmit={(values, { setSubmitting }) => {\r\n                axios.post(\"http://localhost:8080/api/auth/login\", values)\r\n                    .then((response) => {\r\n                        if (response.status === 200) { // 성공적인 로그인 응답 처리\r\n                            const token = response.data;\r\n                            localStorage.setItem(\"token\", token);\r\n                            console.log(\"Login successful, token stored:\", token);\r\n                            window.location.href = \"/mainboard\"; // 대시보드로 이동\r\n                        }\r\n                    })\r\n                    .catch((error) => {\r\n                        if (error.response && error.response.status === 401) {\r\n                            alert(\"로그인 실패: 이메일 또는 비밀번호가 잘못되었습니다.\");\r\n                        } else {\r\n                            alert(\"로그인 실패: 이메일 또는 비밀번호가 잘못되었습니다.\");\r\n                        }\r\n                        console.error(\"Login failed:\", error);\r\n                    })\r\n                    .finally(() => {\r\n                        setSubmitting(false); // 로딩 상태 해제\r\n                    });\r\n            }}\r\n        >\r\n            {({ isSubmitting }) => (\r\n                <Form>\r\n                    <div className={styles.field}>\r\n                        <Field type=\"email\" name=\"email\" placeholder=\"이메일\" className={styles.input} />\r\n                    </div>\r\n                    <div className={styles.field}>\r\n                        <Field type=\"password\" name=\"password\" placeholder=\"비밀번호\" className={styles.input} />\r\n                    </div>\r\n                    <button type=\"submit\" className={styles.button} disabled={isSubmitting}>\r\n                        로그인\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n        <div className={styles.footer}>\r\n            <a href=\"/register\" className={styles.link}>회원가입 하기</a>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}